# i3 config file (v4)
# Please see http://i3wm.org/docs/userguide.html for a complete reference!
# Last change: 10-2025 by Jack Holborn <jack.holborn@free.fr>

#############################################
# GENERAL
# Clavier français
#exec --no-startup-id setxkbmap fr

# XDG services
include xdg.conf

# Choose startup resolution
#exec --no-startup-id /usr/bin/xrandr --output 1920x1080 --primary

# Set mod key (Mod1=<Alt>, Mod4=<Super>)
set $mod Mod4

# Use Mouse+$mod to drag floating windows
floating_modifier $mod

# Variable à utiliser pour relancer la barre des tâches
set $refresh_i3status killall -SIGUSR1 i3status

# reload the configuration file
bindsym $mod+Ctrl+r reload

# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Ctrl+k restart

# exit i3 (logs you out of your X session)
# i3-nagbar forces use of pointer click, so we use mode_system
bindsym $mod+Ctrl+e mode "$mode_system"
set $mode_system Voulez-vous vraiment quitter (o)/(n)?
mode "$mode_system" {
    bindsym o exec --no-startup-id i3-msg exit, mode "default"

    # exit system mode: "n", "Enter" or "Escape"
    bindsym n mode "default"
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

#############################################
# THEMING COLORS
include theme.conf

#############################################
# WORKSPACES
include workspaces.conf

#############################################
# WINDOWS/CONTAINERS
include containers.conf

#############################################
### settings for i3-gaps: ###
# Set inner/outer gaps
gaps inner 5
gaps outer -3

# Additionally, you can issue commands with the following syntax. This is useful to bind keys to changing the gap size.
# gaps inner|outer current|all set|plus|minus <px>
# gaps inner all set 10
# gaps outer all plus 5

# Smart gaps (gaps used if only more than one container on the workspace)
smart_gaps on

# Smart borders (draw borders around container only if it is not the only container on this workspace)
# on|no_gaps (on=always activate and no_gaps=only activate if the gap size to the edge of the screen is 0)
smart_borders on

# Press $mod+Ctrl+g to enter the gap mode. Choose o or i for modifying outer/inner gaps.
# Press one of + / - (in-/decrement for current workspace) or 0 (remove gaps for current workspace).
# If you also press Shift with these keys, the change will be global for all workspaces.
bindsym $mod+Ctrl+g mode "$mode_gaps"

set $mode_gaps Gaps: (o) outer, (i) inner
set $mode_gaps_outer Outer Gaps: Up|Down|0 (local), Shift+Up|Down|0 (global)
set $mode_gaps_inner Inner Gaps: Up|Down|0 (local), Shift+Up|Down|0 (global)
mode "$mode_gaps" {
  bindsym o      mode "$mode_gaps_outer"
  bindsym i      mode "$mode_gaps_inner"

  bindsym Escape mode "default"
}
mode "$mode_gaps_inner" {
  bindsym Down  gaps inner current plus 5
  bindsym Up    gaps inner current minus 5
  bindsym 0     gaps inner current set 0

  bindsym Shift+Down  gaps inner all plus 5
  bindsym Shift+Up    gaps inner all minus 5
  bindsym Shift+0     gaps inner all set 0

  bindsym Escape mode "default"
}
mode "$mode_gaps_outer" {
  bindsym Down  gaps outer current plus 5
  bindsym Up    gaps outer current minus 5
  bindsym 0     gaps outer current set 0

  bindsym Shift+Down  gaps outer all plus 5
  bindsym Shift+Up    gaps outer all minus 5
  bindsym Shift+0     gaps outer all set 0

  bindsym Escape mode "default"
}

#############################################
# APPLICATIONS
include applications.conf

#############################################
# SOUND
include sound.conf
